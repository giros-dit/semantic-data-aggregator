{
    "$schema": "http://json-schema.org/schema#",
    "$schemaVersion": "1.0",
    "title": "DataLakeDispatcher",
    "description": "Entity that represents a task that writes data in 5G-CLARITY's Data Lake platform.",
    "type": "object",
    "additionalProperties": false,
    "allOf": [
        {
            "$ref": "../task.json"
        },
        {
            "properties": {
                "type": {
                    "description": "NGSI-LD Entity identifier. It has to be DataLakeDispatcher",
                    "type": "string",
                    "enum": [
                        "DataLakeDispatcher"
                    ],
                    "default": "DataLakeDispatcher"
                },
                "bucket": {
                    "$ref": "#/definitions/Bucket"
                },
                "hasInput": {
                    "$ref": "#/definitions/HasInput"
                },
                "hasOutput": {
                    "$ref": "#/definitions/HasOutput"
                },
                "instanceFileName": {
                    "$ref": "#/definitions/InstanceFileName"
                }
            },
            "required": [
                "type",
                "bucket",
                "hasInput",
                "hasOutput",
                "instanceFileName"
            ]
        }
    ],
    "definitions": {
        "Bucket": {
            "description": "Property. Name of the Data Lake's S3 bucket where to store the data.",
            "type": "object",
            "allOf": [
                {
                    "$ref": "../../entity.json#/definitions/Property"
                },
                {
                    "properties": {
                        "value": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "value"
                    ]
                }
            ],
            "additionalProperties": false
        },
        "HasInput": {
            "description": "Relationship. InterfaceKPIAggregator entity that provides input data to be stored in the Data Lake.",
            "type": "object",
            "allOf": [
                {
                    "$ref": "../../entity.json#/definitions/Relationship"
                },
                {
                    "properties": {
                        "object": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "object"
                    ]
                }
            ],
            "additionalProperties": false
        },
        "HasOutput": {
            "description": "Relationship. DataLake entity where to store the data.",
            "type": "object",
            "allOf": [
                {
                    "$ref": "../../entity.json#/definitions/Relationship"
                },
                {
                    "properties": {
                        "object": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "object"
                    ]
                }
            ],
            "additionalProperties": false
        },
        "InstanceFileName": {
            "description": "Property. String to be appended to the name of each object that will be created within the bucket. This property maps to the name of the instance data file as described in RFC9195, Section 2.",
            "type": "object",
            "allOf": [
                {
                    "$ref": "../../entity.json#/definitions/Property"
                },
                {
                    "properties": {
                        "value": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "value"
                    ]
                }
            ],
            "additionalProperties": false
        }
    }
}
